<% html_title(t(:label_administration), t('saml.providers.label_add_new')) -%>
<% local_assigns[:additional_breadcrumb] = t('saml.providers.label_add_new') %>

<%= toolbar title: t('saml.providers.label_add_new') %>

<%= error_messages_for @provider %>


<%=
  primer_form_with(
    model: @provider,
    url: { action: :import },
    method: :post
  ) do |form| %>

  <%=
    render(Primer::OpenProject::FlexLayout.new) do |flex|
      flex.with_row(mb: 3) do
        render(Saml::Providers::NameInputForm.new(form))
      end

      flex.with_row(mb: 3) do
        render(Saml::Providers::MetadataUrlForm.new(form))
      end

      flex.with_row do
        render(
          Saml::Providers::SubmitOrCancelForm.new(form)
        )
      end
    end
  %>
<% end %>
